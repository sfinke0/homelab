kube-prometheus-stack:
    grafana:
        enabled: false
    prometheus:
        prometheusSpec:
            retention: 10y
            scrapeConfigSelectorNilUsesHelmValues: false
            storageSpec:
                volumeClaimTemplate:
                    spec:
                        storageClassName: local-path
                        resources:
                            requests:
                                storage: 40Gi
            additionalScrapeConfigs:
                - job_name: node-exporter
                  scrape_interval: 15s
                  static_configs:
                    - targets:
                        # sops:enc
                        - ENC[AES256_GCM,data:2UVoCLtvctGAydZ5IIQkXM3na83p4UVcukzqgggIdPiJ//8=,iv:vVzbBczfs06hSuv5yW+Cs1OUdpTNhgHrQBLs718G62o=,tag:z03X0ZuVnspIOn/Nwav2Iw==,type:str]
                      labels:
                        os: ubuntu
                        type: hardware
                    - targets:
                        # sops:enc
                        - ENC[AES256_GCM,data:WHlPP40Gzo3BFuq2lGSq46A=,iv:ZcK2+Vlt0sFE9P+93n06vGhd/ocsuAbTnlnX8r/MAc4=,tag:X5tzWVbSQjf9AHuSWQPaww==,type:str]
                      labels:
                        os: vyos
                        type: hardware
                        # sops:enc
                        hostname: ENC[AES256_GCM,data:AlADCer4vroairIPPWHz952C5v0qrEw7QGQudN+gQAmLlg==,iv:cac4rZz0povu9BZgnqGdRJZzlNv9IAlH9g0xu5OMwKo=,tag:uxyes7HCUlmWw64iUyqtWQ==,type:str]
                    - targets:
                        # sops:enc
                        - ENC[AES256_GCM,data:uU4wXFCgThVKWU2jDjBx,iv:kR0BH7HqPanDEXwOqgvBO0nIkhKcwmV+scfhfXmiXBE=,tag:+nQnnelgWCcnpMBUZLeBdQ==,type:str]
                      labels:
                        os: vyos
                        type: virtual
                        # sops:enc
                        hostname: ENC[AES256_GCM,data:9dKjULUNhvkBdO8TM281hns6C8Qaq/K6FTV+ei6N4zrRrg==,iv:OSukNTPloyKqW4AoglDVT4z/ioZSX/OlBNf/kjqUyR4=,tag:Gp/zP9gMr+/pt3mfQA7bxA==,type:str]
    prometheus-node-exporter:
        extraArgs:
            - --collector.filesystem.mount-points-exclude=^/(dev|proc|sys|var/lib/docker/.+|var/lib/kubelet/.+|run/.+)($|/)
            - --collector.filesystem.fs-types-exclude=^(autofs|binfmt_misc|bpf|cgroup2?|configfs|debugfs|devpts|devtmpfs|fusectl|hugetlbfs|iso9660|mqueue|nsfs|overlay|proc|procfs|pstore|rpc_pipefs|securityfs|selinuxfs|squashfs|sysfs|tracefs)$
            - --collector.netdev.device-exclude=^(lxc.+)$
            - --no-collector.arp
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age18xjyppfrwl82jdltqtjxy8n86qlee24h5tftpgrjzp7r9pn5ecmss4pd7k
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBkVmdrbVZubWtJUUg2V0Yr
            ZVRmVU41aktaT3RoaHp3cXViVXRyelJBelJNClNwT0UyMU0xVXk4d29rcWF3d3JZ
            eGhYL0ZweFBGeHFEMW9zQVJpUThlQWMKLS0tIDdSQ3dHcnQ0akpCN2ZjeGN2Y3hF
            cndCVmkxbVh6S3QvbXNDUjBETEQvbDAKcsqp71W8byMMhHxqqwzCMuM+UDIr5B+3
            ITHUA7DV6eHWs0f/t8VXpfNHx+ivQcdaTGQ34C+xb0ZRuxRDEL7/gQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-08-06T06:06:26Z"
    mac: ENC[AES256_GCM,data:t9R039jbnuFdCnmnwuSx9pEoQaEt/u1dgK67RlEsLrJmqgfsFtasgN3tjD60r2yHiuaSjfmIxtJwZDPOyU84jJwEmo64FkMAzUiWSA4CW08JCiYjBhLoCImrfC0R8zG9jOKk2eZP1sM+yCZwSp/T5KT1UpRzTDovCQkn6y3Fm88=,iv:laPPNUXIusHwkc3O7TFEOo2Fjx8Q4wapzixH8ZiHutY=,tag:q0hMDm9/yJZg4AlrPiaG9g==,type:str]
    pgp: []
    encrypted_comment_regex: sops:enc
    mac_only_encrypted: true
    version: 3.9.0
